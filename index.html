<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
  <link rel="stylesheet" href="styles/styles.css">
  <link rel="icon" type="image/x-icon" href="/images/favicon.ico">
  <title>Cenovnik</title>
</head>
<body>
  <div class="container">
    <div id="title">Cenovnik</div>
    <div id="auth-container">
      <button id="loginButton" class="filter-button">Login</button>
      <button id="settingsButton" class="filter-button" style="display: none;">Podesavanja</button>
    </div>
    <input type="text" id="search" placeholder="Pretrazi proizvode...">
    <div id="filters-container">
      <select id="category" class="filter-button">
        <option value="all">Sve kategorije</option>
        <option value="protein">Proteini</option>
        <option value="creatine">Kreatin</option>
        <option value="vitamins">Vitamini</option>
        <option value="snacks">Užina</option>
      </select>
      <select id="price-range" class="filter-button">
        <option value="all">Sve cene</option>
        <option value="0-1000">0 - 1000 RSD</option>
        <option value="1000-2000">1000 - 2000 RSD</option>
        <option value="2000-3000">2000 - 3000 RSD</option>
        <option value="3000+">Preko 3000 RSD</option>
      </select>
      <select id="sort" class="filter-button">
        <option value="default">Sortiraj po</option>
        <option value="price-asc">Cena: Rastuće</option>
        <option value="price-desc">Cena: Opadajuće</option>
      </select>
      <button id="addProductButton" class="filter-button" style="display: none;">Dodaj Proizvod</button>
    </div>
    <div id="addProductModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Dodaj Proizvod</h2>
        <form id="addProductForm">
          <label for="productTitle">Naziv:</label>
          <input type="text" id="productTitle" name="title" required>
          <label for="productDescription">Opis:</label>
          <textarea id="productDescription" name="description" required></textarea>
          <label for="productPrice">Cena:</label>
          <input type="number" id="productPrice" name="price" required>
          <label for="productCategory">Kategorija:</label>
          <select id="productCategory" name="category" required>
            <option value="protein">Proteini</option>
            <option value="creatine">Kreatin</option>
            <option value="vitamins">Vitamini</option>
            <option value="snacks">Užina</option>
          </select>
          <label for="productImage">Slika:</label>
          <input type="file" id="productImage" name="image" accept="image/*" capture="environment" required>
          <button type="submit" class="filter-button">Dodaj</button>
        </form>
      </div>
    </div>
    <div id="editProductModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Izmeni Proizvod</h2>
        <form id="editProductForm">
          <input type="hidden" id="editProductId">
          <label for="editProductTitle">Naziv:</label>
          <input type="text" id="editProductTitle" name="title" required>
          <label for="editProductDescription">Opis:</label>
          <textarea id="editProductDescription" name="description" required></textarea>
          <label for="editProductPrice">Cena:</label>
          <input type="number" id="editProductPrice" name="price" required>
          <label for="editProductCategory">Kategorija:</label>
          <select id="editProductCategory" name="category" required>
            <option value="protein">Proteini</option>
            <option value="creatine">Kreatin</option>
            <option value="vitamins">Vitamini</option>
            <option value="snacks">Užina</option>
          </select>
          <label for="editProductImage">Slika:</label>
          <input type="file" id="editProductImage" name="image" accept="image/*" capture="environment">
          <button type="submit" class="filter-button">Izmeni</button>
        </form>
      </div>
    </div>
    <div id="products"></div>
  </div>
  <div id="productModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <div id="modalProductDetails"></div>
      <div class="product-buttons">
        <button class="edit-button" style="display: none;">Izmeni</button>
        <button class="delete-button" style="display: none;">Obriši</button>
      </div>
    </div>
  </div>
  <div id="settingsModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>Podesavanja Kategorija</h2>
      <form id="addCategoryForm">
        <label for="categoryName">Naziv Kategorije:</label>
        <input type="text" id="categoryName" name="categoryName" required>
        <button type="submit" class="filter-button">Dodaj Kategoriju</button>
      </form>
      <div id="categoriesList"></div>
      <button id="logoutButton" class="filter-button" style="margin-top: 1rem; display: none;">Logout</button>
    </div>
  </div>
  <footer class="footer">
    &copy; 2025 Gym Product Price Search
  </footer>
  <script type="module" src="/scripts/main.js"></script>
</body>
</html>